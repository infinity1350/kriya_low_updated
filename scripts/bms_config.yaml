# JBD BMS Configuration File
# 24S 100A Battery Management System

serial:
  # Serial port configuration
  port: "/dev/ttyUSB0"  # Leave empty for auto-detection on Linux/Mac, use "COM3" etc on Windows
  baudrate: 9600
  timeout: 2.0          # seconds
  retry_attempts: 3
  retry_delay: 0.5      # seconds between retries

battery:
  # Battery pack specifications (24S configuration)
  cell_count: 15
  nominal_voltage: 3.2  # V per cell
  max_cell_voltage: 3.65  # V
  min_cell_voltage: 2.8  # V
  max_pack_voltage: 54.75  # V (15 × 3.65)
  min_pack_voltage: 42   # V (15 × 2.8)
  nominal_capacity: 36.4   # Ah (100A configuration)

thresholds:
  # Voltage thresholds
  cell_voltage_delta_warning: 0.05   # V - warn if cell voltage spread exceeds this
  cell_voltage_delta_critical: 0.1   # V - critical if cell voltage spread exceeds this
  
  # Temperature thresholds
  temperature_warning: 50   # °C
  temperature_critical: 60  # °C
  temperature_low: 0        # °C
  
  # Current thresholds
  current_warning: 90   # A
  current_critical: 100  # A (matches 100A BMS rating)
  
  # Capacity thresholds
  soc_low_warning: 20    # %
  soc_critical: 10       # %
  soc_high_warning: 95   # %

logging:
  # Data logging configuration
  enabled: true
  interval: 5              # seconds between log entries
  directory: "./bms_logs" # relative or absolute path
  max_file_size_mb: 10    # rotate when file exceeds this size
  rotation: "daily"       # Options: "daily", "size", "none"
  include_cell_voltages: true
  include_temperatures: true

monitoring:
  # Real-time monitoring settings
  refresh_rate: 1.0        # seconds - dashboard update frequency
  history_buffer_size: 300 # number of samples to keep in memory (5 min at 1s rate)
  alert_cooldown: 30       # seconds - minimum time between repeated alerts

display:
  # User interface settings
  use_colors: true         # Enable ANSI color codes
  compact_mode: false      # Reduce whitespace in displays
  show_timestamp: true
  temperature_unit: "C"    # "C" for Celsius, "F" for Fahrenheit

safety:
  # Safety and control settings
  require_confirmation: true      # Require user confirmation for MOS control
  verification_delay: 0.5         # seconds to wait before verifying control commands
  emergency_shutdown_enabled: true
  auto_reconnect: true
  max_reconnect_attempts: 5

